<VirtualHost *:8443>
	ServerAdmin webmaster@localhost
	DocumentRoot /var/www/html

	SSLEngine on
	SSLCertificateFile /etc/ssl/inception/cert/inception.crt
	SSLCertificateKeyFile /etc/ssl/inception/private/inception.key
	SSLProtocol -all +TLSv1.2 +TLSv1.3

	<Location "/redirection">
		Redirect temp https://www.naver.com
	</Location>
		
	<Location "/upload">
		Redirect permanent /upload /upload.html
	</Location>

	<Location "/upload_file">
		SetHandler cgi-script
		Options EXecCGI
		AddHandler cgi-script .py .pl
	</Location>

	<Location "/show">
		SetHandler cgi-script
		Options EXecCGI
		AddHandler cgi-script .py .pl
	</Location>

	<Location "/delete">
		SetHandler cgi-script
		Options EXecCGI
		AddHandler cgi-script .py
	</Location>

	<Location "/rm">
		DAV On
		Options Indexes FollowSymLinks
		AllowOverride None
		Require all granted
	</Location>

	Alias "/css" "/var/www/css"
	Alias "/html" "/var/www/html"
	Alias "/upload_file" "/var/www/cgi/upload"
	Alias "/show" "/var/www/cgi/show"
	Alias "/delete" "/var/www/cgi/delete"
	Alias "/javascript" "/var/www/javascript"
	Alias "/rm" "/var/www/uploaded"
	
	<Directory /var/www/html>
		Options Indexes FollowSymLinks
		AllowOverride None
		Require all granted
	</Directory>

	<Directory /var/www/css>
		Options Indexes FollowSymLinks
		AllowOverride None
		Require all granted
	</Directory>

	<Directory "/var/www/cgi/upload">
		Options ExecCGI
		AddHandler cgi-script .py
		Require all granted
	</Directory>

	<Directory "/var/www/cgi/show">
		Options ExecCGI
		AddHandler cgi-script .pl .py
		Require all granted
	</Directory>

	<Directory "/var/www/cgi/delete">
		Options ExecCGI
		AddHandler cgi-script .pl .py
		Require all granted
	</Directory>

	<Directory /var/www/javascript>
		Options Indexes FollowSymLinks
		AllowOverride None
		Require all granted
	</Directory>

	<Directory "/var/www/uploaded">
		DAV On
		Options Indexes FollowSymLinks
		AllowOverride None
		Require all granted
	</Directory>

	ErrorLog ${APACHE_LOG_DIR}/error.log
	CustomLog ${APACHE_LOG_DIR}/access.log combined
</VirtualHost>
